{"version":3,"sources":["../../modules/scatterplot-chart/index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport {linear, ordinal} from 'd3-scale';\nimport {event as d3LastEvent, min, max, scale, select, svg, time} from 'd3';\nimport {format} from 'd3-time-format';\nimport {extent} from 'd3-array';\nimport { createElement } from 'react-faux-dom';\nimport {Style} from 'radium';\nimport merge from 'lodash.merge';\nimport {calcDefaultDomain, defaultStyle, getAxisStyles, createCircularTicks} from '../shared';\n\nlet parseDate = null;\nconst axisMargin = 18;\n\nexport default class ScatterplotChart extends React.Component {\n  static get propTypes() {\n    return {\n      axes: React.PropTypes.bool,\n      axisLabels: React.PropTypes.object,\n      clickHandler: React.PropTypes.func,\n      config: React.PropTypes.array,\n      data: React.PropTypes.array.isRequired,\n      datePattern: React.PropTypes.string,\n      yAxisOrientRight: React.PropTypes.bool,\n      dotRadius: React.PropTypes.number,\n      verticalGrid: React.PropTypes.bool,\n      grid: React.PropTypes.bool,\n      height: React.PropTypes.number,\n      useLegend: React.PropTypes.bool,\n      margin: React.PropTypes.object,\n      mouseOverHandler: React.PropTypes.func,\n      mouseOutHandler: React.PropTypes.func,\n      mouseMoveHandler: React.PropTypes.func,\n      style: React.PropTypes.object,\n      tickTimeDisplayFormat: React.PropTypes.string,\n      width: React.PropTypes.number,\n      xDomainRange: React.PropTypes.array,\n      yDomainRange: React.PropTypes.array,\n      xTickNumber: React.PropTypes.number,\n      yTickNumber: React.PropTypes.number,\n      yTicks: React.PropTypes.number,\n      xTicks: React.PropTypes.number,\n      xType: React.PropTypes.string,\n      yType: React.PropTypes.string\n    };\n  }\n\n  static get defaultProps() {\n    return {\n      axes: false,\n      axisLabels: {},\n      clickHandler: () => {},\n      config: [],\n      datePattern: '%d-%b-%y',\n      dotRadius: 5,\n      grid: false,\n      mouseOverHandler: () => {},\n      mouseOutHandler: () => {},\n      mouseMoveHandler: () => {},\n      width: 320,\n      height: 180,\n      xType: 'linear',\n      yType: 'linear'\n    };\n  }\n\n  constructor(props) {\n    super(props);\n    this.color = scale.category20();\n    this.margin = 0;\n    this.width = 0;\n    this.height = 0;\n    this.innerWidth = 0;\n    this.innerHeight = 0;\n    this.xDomainRange = null;\n    this.yDomainRange = null;\n    this.x = null;\n    this.y = null;\n    this.axisX = null;\n    this.axisY = null;\n    this.xAxis = null;\n    this.yAxis = null;\n    this.chart = null;\n    this.uid = Math.floor(Math.random() * new Date().getTime());\n  }\n\n  componentWillMount() {\n    parseDate = format(this.props.datePattern).parse;\n    this.width = this.props.width;\n    this.height = this.props.height;\n    this.setMargin();\n    this.setWidthAndHeight();\n    this.setDomainRange();\n    this.setXandY();\n    this.setXaxis();\n    this.setYaxis();\n  }\n\n  componentDidMount() {\n    this.drawAxisX();\n    this.drawAxisY();\n    this.drawChart();\n    createCircularTicks(this.refs[this.uid]);\n  }\n\n  componentDidUpdate() {\n    this.setWidthAndHeight();\n    this.setDomainRange();\n    this.setXandY();\n    this.setXaxis();\n    this.setYaxis();\n    this.updateAxisX();\n    this.updateAxisY();\n    this.updateChart();\n    createCircularTicks(this.refs[this.uid]);\n  }\n\n  setMargin() {\n    this.margin = this.props.margin ? this.props.margin :\n    this.calcMargin(\n      this.props.axes,\n      this.props.dotRadius * 2, this.props.yAxisOrientRight\n    );\n  }\n\n  setWidthAndHeight() {\n    this.width = this.props.width;\n    this.height = this.props.height + (this.props.dotRadius * 3);\n    this.innerWidth = this.props.width - (this.margin.left + this.margin.right);\n    this.innerHeight =\n      this.props.height - (this.margin.top +\n        this.margin.bottom + (this.props.dotRadius * 2));\n  }\n\n  setDomainRange() {\n    this.yDomainRange = this.props.yDomainRange ?\n      calcDefaultDomain(this.props.yDomainRange, this.props.yType, parseDate) :\n        null;\n    this.xDomainRange = this.props.xDomainRange ?\n      calcDefaultDomain(this.props.xDomainRange, this.props.xType, parseDate) :\n        null;\n  }\n\n  setXandY() {\n    const w = this.props.width - (this.margin.left + this.margin.right);\n    const h = this.props.height - (this.margin.top + this.margin.bottom + (this.props.dotRadius * 2));\n    this.x = this.setDomainAndRange(\n      'x',\n      this.xDomainRange,\n      this.props.data,\n      this.props.xType,\n      w,\n      this.props.yAxisOrientRight\n    );\n    this.y = this.setDomainAndRange(\n      'y',\n      this.yDomainRange,\n      this.props.data,\n      this.props.yType,\n      h,\n      this.props.yAxisOrientRight);\n  }\n\n  setXaxis() {\n    this.xAxis = svg.axis()\n      .scale(this.x)\n      .orient('bottom');\n    if (this.props.xType === 'time' && this.props.tickTimeDisplayFormat) {\n      this.xAxis.tickFormat(time.format(this.props.tickTimeDisplayFormat));\n    }\n    if (this.props.xTickNumber) this.xAxis.ticks(this.props.xTickNumber);\n\n    if (this.props.grid && this.props.verticalGrid) { this.xAxis.tickSize(-this.height, 6).tickPadding(15); } else { this.xAxis.tickSize(0).tickPadding(15);}\n\n    if (this.props.xTicks) this.xAxis.ticks(this.props.xTicks);\n  }\n\n  setYaxis() {\n    this.yAxis = svg.axis()\n      .scale(this.y)\n      .orient(this.props.yAxisOrientRight ? 'right' : 'left');\n    if (this.props.grid) { this.yAxis.tickSize(-this.innerWidth, 6).tickPadding(12); } else { this.yAxis.tickPadding(10); }\n    if (this.props.yTicks) this.yAxis.ticks(this.props.yTicks);\n  }\n\n  getScale(type) {\n    switch (type) {\n      case 'time':\n        return time.scale();\n      case 'text':\n        return ordinal();\n      default:\n        return linear();\n    }\n  }\n\n  setDomainAndRange(axesType, domainRange, data, type, length, yAxisOrientRight) {\n    const dataIndex = axesType === 'x' ? 'x' : 'y';\n    let d3Axis;\n    switch (type) {\n      case 'text':\n        d3Axis = ordinal();\n        d3Axis.domain(data.map((d) => d[dataIndex]), 1);\n        d3Axis.rangePoints([0, length], 1);\n        break;\n      case 'linear':\n        let minAmount = min(data, (d) => d[dataIndex]);\n        let maxAmount = max(data, (d) => d[dataIndex]);\n        d3Axis = linear();\n        if (domainRange) {\n          d3Axis.domain(calcDefaultDomain(domainRange, type, parseDate));\n        } else {\n          // set initial domain\n          d3Axis.domain([minAmount, maxAmount]);\n          // calculate 1 tick offset\n          const ticks = d3Axis.ticks();\n          minAmount = yAxisOrientRight && axesType === 'x' ? minAmount : minAmount - (ticks[1] - ticks[0]);\n          maxAmount = yAxisOrientRight && axesType === 'x' ? maxAmount + (ticks[1] - ticks[0]) : maxAmount;\n          d3Axis.domain([minAmount, maxAmount]);\n        }\n        d3Axis.range(axesType === 'x' ? [0, length] : [length, 0]);\n        break;\n      case 'time':\n        d3Axis = time.scale();\n        if (domainRange) {\n          d3Axis.domain(calcDefaultDomain(domainRange));\n        } else {\n          d3Axis.domain(extent(data, (d) => parseDate(d[dataIndex])));\n        }\n        d3Axis.range(axesType === 'x' ? [0, length] : [length, 0], 1);\n        break;\n      default:\n        break;\n    }\n    return d3Axis;\n  }\n\n  getDataConfig(type) {\n    const index = this.props.config.findIndex((item) => item.type === type);\n    return this.props.config[index];\n  }\n\n  getFill(data) {\n    const configItem = this.getDataConfig(data.type);\n    return typeof configItem !== 'undefined' ? configItem.color : this.color(data.type);\n  }\n\n  getRadius(data, dataItem, dotRadius) {\n    if (typeof data[0].z !== 'undefined') {\n      const range = extent(data, (d) => d.z);\n      const mn = range[0];\n      const mx = range[1];\n      const p = ((dataItem.z - mn) / (mx - mn));\n      const minRad = 5;\n      const maxRad = 20;\n      const rad = minRad + ((maxRad - minRad) * p);\n      return rad;\n    }\n    return dotRadius;\n  }\n\n  getStroke(data) {\n    const configItem = this.getDataConfig(data.type);\n    return typeof configItem !== 'undefined' ? configItem.stroke : 'none';\n  }\n\n  drawAxisX() {\n    if (this.props.axes) {\n      this.axisX = select(`#axis-x-${this.uid}`)\n        .attr('class', 'x axis')\n        .attr('transform', `translate(0, ${this.innerHeight})`)\n        .call(this.xAxis)\n        .append('text')\n        .attr('id', 'label-x')\n        .attr('class', 'label')\n        .attr('x', this.props.yAxisOrientRight ? 0 : this.innerWidth)\n        .attr('y', this.margin.bottom + axisMargin)\n        .style('text-anchor', this.props.yAxisOrientRight ? 'start' : 'end')\n        .text(this.props.axisLabels.x);\n    }\n  }\n\n  drawAxisY() {\n    if (this.props.axes) {\n      this.axisY = select(`#axis-y-${this.uid}`)\n        .attr('class', 'y axis')\n        .call(this.yAxis)\n        .attr(\n          'transform', this.props.yAxisOrientRight ?\n          `translate(${this.innerWidth}, 0)` : `translate(0, 0)`\n        )\n        .append('text')\n        .attr('class', 'label')\n        .attr('transform', 'rotate(-90)')\n        .attr('y', this.props.yAxisOrientRight ?\n          -25 + this.margin.right : 10 - this.margin.left\n        )\n        .attr('dy', '.71em')\n        .style('text-anchor', 'end')\n        .text(this.props.axisLabels.y);\n    }\n  }\n\n  drawChart() {\n    this.chart = select(`#dots-${this.uid}`)\n      .selectAll('.dot')\n      .data(this.props.data)\n      .enter()\n      .append('circle')\n      .attr('class', 'dot')\n      .attr('r', (d) => this.getRadius(this.props.data, d, this.props.dotRadius))\n      .attr('cx', (d) => {\n        switch (this.props.xType) {\n          case ('time'):\n            return this.x(parseDate(d.x));\n          default:\n            return this.x(d.x);\n        }\n      })\n      .attr('cy', (d) => { return this.y(d.y); })\n      .style('fill', (d) => this.getFill(d))\n      .style('stroke', (d) => this.getStroke(d))\n      .on('mouseover', (d) => this.props.mouseOverHandler(d, d3LastEvent))\n      .on('mouseout', (d) => this.props.mouseOutHandler(d, d3LastEvent))\n      .on('mousemove', () => this.props.mouseMoveHandler(d3LastEvent))\n      .on('click', (d) => this.props.clickHandler(d, d3LastEvent));\n  }\n\n  updateAxisX() {\n    if (this.props.axes) {\n      this.axisX = select(`#axis-x-${this.uid}`)\n        .attr('transform', `translate(0, ${this.innerHeight})`)\n        .transition()\n        .duration(750)\n        .call(this.xAxis)\n        .select('#label-x')\n        .attr('x', this.props.yAxisOrientRight ? 0 : this.innerWidth);\n    }\n  }\n\n  updateAxisY() {\n    if (this.props.axes) {\n      this.axisY = select(`#axis-y-${this.uid}`)\n        .transition()\n        .duration(750)\n        .call(this.yAxis);\n    }\n  }\n\n  updateChart() {\n    this.chart\n      .data(this.props.data)\n      .transition()\n      .duration(750)\n      .attr('cx', (d) => {\n        switch (this.props.xType) {\n          case ('time'):\n            return this.x(parseDate(d.x));\n          default:\n            return this.x(d.x);\n        }\n      })\n      .attr('cy', (d) => { return this.y(d.y); });\n  }\n\n  calcMargin(axes, spacer, yAxisOrientRight) {\n    let defaultMargins = axes ?\n    {top: 24, right: 24, bottom: 24, left: 48} :\n    {top: spacer, right: spacer, bottom: spacer, left: spacer};\n    if (yAxisOrientRight) {\n      defaultMargins = axes ? {top: 24, right: 48, bottom: 24, left: 24} : {top: spacer, right: spacer, bottom: spacer, left: spacer};\n    }\n    return defaultMargins;\n  }\n\n  render() {\n    this.setWidthAndHeight();\n    const node = createElement('svg');\n    const chart = select(node)\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .append('g')\n      .attr('id', `area-${this.uid}`)\n      .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n    chart.append('g')\n      .attr('id', `axis-x-${this.uid}`);\n    chart.append('g')\n      .attr('id', `axis-y-${this.uid}`);\n    chart.append('g')\n      .attr('id', `dots-${this.uid}`);\n\n    const uid = Math.floor(Math.random() * new Date().getTime());\n\n    return (\n      <div ref={this.uid} className={`scatterplot_chart${uid}`}>\n        <Style scopeSelector={`.scatterplot_chart${uid}`} rules={merge({}, defaultStyle, this.props.style, getAxisStyles(this.props.grid, this.props.verticalGrid, this.props.yAxisOrientRight))}/>\n        {node.toReact()}\n      </div>\n    );\n  }\n}\n"]}